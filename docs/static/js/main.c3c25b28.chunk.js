(this.webpackJsonpcs7580_quizapp=this.webpackJsonpcs7580_quizapp||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),r=n(6),a=n.n(r),i=(n(19),n(12),n(13),n(2)),o=n(3),l=n(5),u=n.n(l),d=n(7),j=(n(15),n(0)),b=function(){return Object(j.jsxs)("div",{className:"card card-body loading",children:[Object(j.jsx)("div",{className:"spinner-border text-info loading-spinner",role:"status"}),Object(j.jsx)("h3",{className:"card-title loading-text",children:"Fetching quiz..."})]})},h=function(e){return Object(j.jsxs)("div",{className:"card card-body api-error",children:[Object(j.jsx)("h3",{className:"card-title",children:"Something went wrong while contacting the server. Please try again."}),Object(j.jsx)("button",{className:"btn btn-dark",onClick:function(){return e.reset()},children:"Try Again"})]})},m=function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{className:"btn-check",id:"Answer".concat(e.index),type:"radio",name:"answers",checked:e.selectedAnswer===e.answer&&!e.answered,disabled:e.answered,onChange:function(){return e.setSelectedAnswer(e.answer)}}),Object(j.jsx)("label",{className:"btn  answer\n            ".concat(e.answered?e.selectedAnswer===e.correct_answer&&e.selectedAnswer===e.answer?"btn-success":e.selectedAnswer===e.answer?"btn-danger":e.correct_answer===e.answer?"btn-primary":"btn-outline-dark":"btn-outline-secondary","        \n            "),htmlFor:"Answer".concat(e.index),children:Object(j.jsx)("h3",{children:e.answer})})]})},O=function(e){return Object(j.jsxs)("div",{className:"card",children:[console.log("Question:",e.question),console.log("Selected answer:",e.selectedAnswer),Object(j.jsx)("div",{class:"card-header",children:Object(j.jsxs)("div",{className:"question-header",children:[Object(j.jsxs)("p",{className:"card-subtitle",children:["Question #",e.position+1]}),Object(j.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){return e.reset()},children:"X"})]})}),Object(j.jsxs)("div",{className:"question card-body",children:[Object(j.jsx)("h2",{className:"card-title text-center",children:e.question.question}),Object(j.jsxs)("div",{className:"question-attributes",children:[Object(j.jsxs)("span",{className:"card-subtitle display-attribute",children:["Category: ",e.question.category]}),Object(j.jsxs)("span",{className:"card-subtitle display-attribute",children:["Difficulty: ",e.question.difficulty]})]}),Object(j.jsx)("div",{className:"answers",children:e.question.all_answers.map((function(t,n){return Object(j.jsx)(m,{index:n,answer:t,correct_answer:e.question.correct_answer,selectedAnswer:e.selectedAnswer,setSelectedAnswer:e.setSelectedAnswer,answered:e.answered},n)}))}),""!==e.selectedAnswer?Object(j.jsx)("div",{className:"question-results",children:e.answered?Object(j.jsxs)(j.Fragment,{children:[e.question.correct_answer!==e.selectedAnswer?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"question-result",children:Object(j.jsxs)("h4",{children:["Your answer: ",e.selectedAnswer]})}),Object(j.jsx)("div",{className:"question-result",children:Object(j.jsxs)("h4",{children:["Correct answer: ",e.question.correct_answer]})})]}):Object(j.jsx)("div",{className:"question-result",children:Object(j.jsx)("h4",{children:"Correct!"})}),Object(j.jsx)("button",{className:"btn btn-outline-secondary btn-result",onClick:function(){e.setPosition(e.position+1),e.setAnswered(!1)},children:Object(j.jsx)("h4",{children:"Next"})})]}):Object(j.jsx)("button",{className:"btn btn-outline-primary btn-result",onClick:e.validateAnswer,children:Object(j.jsx)("span",{className:"h4",children:"OK"})})}):Object(j.jsx)(j.Fragment,{})]})]})},x={categories:["General Knowledge","Entertainment: Books","Entertainment: Film","Entertainment: Music","Entertainment: Musicals & Theatres","Entertainment: Television","Entertainment: Video Games","Entertainment: Board Games","Science & Nature","Science: Computers","Science: Mathematics","Mythology","Sports","Geography","History","Politics","Art","Celebrities","Animals","Vehicles","Entertainment: Comics","Science: Gadgets","Entertainment: Japanese Anime & Manga","Entertainment: Cartoon & Animations"]},f=function(e){return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{class:"card-header",children:Object(j.jsx)("h2",{children:"Configure Your Quiz"})}),Object(j.jsxs)("div",{className:"card-body config",children:[Object(j.jsxs)("div",{className:"config-inputs",children:[Object(j.jsxs)("label",{className:"form-label config-setting",children:["Number of questions:",Object(j.jsx)("input",{className:"form-control",type:"number",min:"1",max:"50",value:e.queryParams.num,onChange:function(t){return e.setQueryParams(Object(i.a)(Object(i.a)({},e.queryParams),{},{num:Math.floor(t.target.value)}))}})]}),Object(j.jsxs)("label",{className:"form-label config-setting",children:["Difficulty:",Object(j.jsxs)("select",{className:"form-control",value:e.queryParams.dif,onChange:function(t){return e.setQueryParams(Object(i.a)(Object(i.a)({},e.queryParams),{},{dif:t.target.value}))},children:[Object(j.jsx)("option",{value:"any",children:"Any Difficulty"}),Object(j.jsx)("option",{value:"easy",children:"Easy"}),Object(j.jsx)("option",{value:"medium",children:"Medium"}),Object(j.jsx)("option",{value:"hard",children:"Hard"})]})]}),Object(j.jsxs)("label",{className:"form-label config-setting",children:["Category:",Object(j.jsxs)("select",{className:"form-control",value:e.queryParams.cat,onChange:function(t){return e.setQueryParams(Object(i.a)(Object(i.a)({},e.queryParams),{},{cat:t.target.value}))},children:[Object(j.jsx)("option",{value:"any",children:"Any Category"}),x.categories.map((function(e,t){return Object(j.jsx)("option",{value:t+9,children:e},t)}))]})]})]}),Object(j.jsx)("button",{className:"btn btn-success config-confirm",onClick:function(){return e.setStatus(e.STATUS.LOADING)},disabled:e.queryParams.num<1||e.queryParams.num>50,children:Object(j.jsx)("h2",{className:"big-button-text",children:"START"})})]})]})},g=function(e){return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{class:"card-header question-header",children:[Object(j.jsx)("h2",{children:"Results"}),Object(j.jsx)("button",{className:"btn btn-outline-dark",onClick:function(){return e.reset()},children:"X"})]}),Object(j.jsxs)("div",{className:"card-body summary",children:[Object(j.jsxs)("h2",{className:"text-center",children:["You got ",e.score.points," out of ",e.score.correct_answers.length," questions correct"]}),Object(j.jsx)("ul",{className:"results-list list-group",children:e.score.correct_answers.map((function(e,t){return Object(j.jsxs)("li",{className:"list-group-item result ".concat(e?"border-success text-success":"text-danger border-danger"),children:[Object(j.jsxs)("h4",{children:["Question ",t+1,":"]}),Object(j.jsx)("h4",{children:e?"Right":"Wrong"})]},t)}))}),Object(j.jsxs)("div",{className:"btn-group summary-buttons",role:"group","aria-label":"Buttons",children:[Object(j.jsx)("button",{className:"btn btn-success summary-btn",onClick:function(){return e.retakeQuiz()},children:Object(j.jsx)("h4",{children:"Retake This Quiz"})}),Object(j.jsx)("button",{className:"btn btn-primary summary-btn",onClick:function(){return e.reset()},children:Object(j.jsx)("h4",{children:"Take Another Quiz"})})]}),Object(j.jsxs)("div",{className:"btn-group-vertical summary-buttons-500",role:"group","aria-label":"Buttons",children:[Object(j.jsx)("button",{className:"btn btn-success summary-btn",onClick:function(){return e.retakeQuiz()},children:Object(j.jsx)("h4",{children:"Retake This Quiz"})}),Object(j.jsx)("button",{className:"btn btn-primary summary-btn",onClick:function(){return e.reset()},children:Object(j.jsx)("h4",{children:"Take Another Quiz"})})]})]})]})},p=(n(17),n(18),{START:"start",LOADING:"loading",SUCCESS:"success",FAIL:"fail",DONE:"done"}),w=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Requesting from: ",t),e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){return(new DOMParser).parseFromString(e,"text/html").body.innerText},N=function(){var e=Object(s.useState)(p.START),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)([]),a=Object(o.a)(r,2),l=a[0],u=a[1],d=Object(s.useState)(0),m=Object(o.a)(d,2),x=m[0],N=m[1],v=Object(s.useState)(!1),S=Object(o.a)(v,2),A=S[0],q=S[1],C=Object(s.useState)(""),k=Object(o.a)(C,2),T=k[0],P=k[1],_=Object(s.useState)({num:"2",cat:"any",dif:"any"}),E=Object(o.a)(_,2),F=E[0],Q=E[1],z=Object(s.useState)({points:0,correct_answers:[]}),M=Object(o.a)(z,2),R=M[0],D=M[1];Object(s.useEffect)((function(){if(n===p.LOADING){console.log("userEffect");var e=function(e){var t="https://opentdb.com/api.php?amount="+e.num;return"any"!==e.cat&&(t=t+"&category="+e.cat),"any"!==e.dif&&(t=t+"&difficulty="+e.dif),t}(F);w(e).then((function(e){console.log("data:",e),e.results.map((function(e,t){e.all_answers=function(e){console.log("Process question:",e);var t,n,s,c=[];for(e.incorrect_answers.map((function(e){return c.push(y(e))})),c.push(y(e.correct_answer)),t=0;t<c.length;t++)n=Math.floor(Math.random()*(t+1)),s=c[t],c[t]=c[n],c[n]=s;return c}(e),e.question=y(e.question)})),console.log("Post set-questions:",e.results),u(e.results),c(p.SUCCESS)})).catch((function(e){c(p.FAIL),console.log(e)}))}}),[n,F]);var G=function(){D({points:0,correct_answers:[]}),N(0),c(p.START)};return Object(j.jsxs)("main",{className:"container",children:[console.log("Current Status:",n),console.log("Container:",l),console.log("Score is now: ",R),n===p.START?Object(j.jsx)(f,{STATUS:p,setStatus:c,queryParams:F,setQueryParams:Q}):Object(j.jsx)(j.Fragment,{children:n===p.LOADING?Object(j.jsx)(b,{}):Object(j.jsx)(j.Fragment,{children:n===p.SUCCESS?Object(j.jsx)(j.Fragment,{children:x<l.length?Object(j.jsx)(O,{question:l[x],position:x,setPosition:N,selectedAnswer:T,setSelectedAnswer:P,answered:A,setAnswered:q,validateAnswer:function(){q(!0);var e=R.points,t=[];R.correct_answers.map((function(e,n){t.push(e)})),T===l[x].correct_answer?(console.log("Right!"),e++,t.push(!0),D(Object(i.a)(Object(i.a)({},R),{},{points:e,correct_answers:t}))):(console.log("Wrong!"),t.push(!1),D(Object(i.a)(Object(i.a)({},R),{},{correct_answers:t})))},reset:G}):Object(j.jsx)(g,{score:R,reset:G,retakeQuiz:function(){D({points:0,correct_answers:[]}),N(0),c(p.SUCCESS)}})}):Object(j.jsx)(h,{reset:G})})})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),r(e),a(e)}))};a.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById("root")),v()}},[[20,1,2]]]);
//# sourceMappingURL=main.c3c25b28.chunk.js.map